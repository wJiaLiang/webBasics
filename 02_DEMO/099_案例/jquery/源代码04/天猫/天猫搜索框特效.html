<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src=jquery-1.11.1.js></script>


    <script>
            $(function(){
                    /* */
                    /*
                    *   keyup:键盘的按键按下松开的时候触发
                    *   keydown (结合我们监听键盘时候)
                    *   keypress 键盘的按键按下的时候触发
                    * */
                $("#keywords").keyup(function(){
                        /*
                        * 如果是真实的开发需求
                        * 1：我们应该获取到用户输入的关键字.
                        * 2: 发送一个请求给服务器,服务器返回数据，返回10条记录
                        * 3: 返回了10条记录之后，你把这返回的数据写到message_area
                        * */
                        /*$(".message_area").show();*/
                        //获取到用户输入的数据.
                        var keywords=$(this).val();

                        if(keywords.length==0){
                            $(".message_area").hide();
                        }else{
                            $(".message_area").show();
                        }
                })
                //绑定鼠标悬停事件
                $(".message_area").on("mouseenter","li",function(){
                        $(this).addClass("itcastClass").siblings("li").removeClass("itcastClass");
                       //赋值.
                       $("#keywords").val($(this).text());
                });

                //鼠标离开，把背景色去掉
                $(".message_area").on("mouseleave","li",function(){
                        $(this).removeClass("itcastClass");
                });
                /*
                * 监听键盘，
                * 监听键盘的上下键..
                * */
                $(document).keydown(function(event){
                        //上下键对应的数字
                        console.log(event);
                        if(event.keyCode==38){
                            //用户按的是向上的键..
                        }
                        else if(event.keyCode==40){
                                //用户按的是向下的键.
                                /*
                                 *   1:我先要判断li 里面是否有背景色高亮（变红）
                                 * */

                                //获取到当前li 里面是否有高亮的红色
                                var $chight=$(".itcastClass");

                                if($chight.length==0){
                                //我要获取到10个li 里面的第一个，把这个给变红.
                                     $(".message_area>li:first-child").addClass("itcastClass");

                                }else{
                                    //获取到的是当前正在高亮的 ..
                                    //判断当前高亮的li 是否还有下一个兄弟元素，如果没有，跳到第一个.
                                    if($chight.next().length==0){
                                        //没有下一个兄弟节点.我就应该把当前正在高亮的移除，第一个高亮
                                        //移除当前正在高亮
                                        $chight.removeClass("itcastClass");
                                        //把第一个高亮.
                                        $(".message_area>li:first-child").addClass("itcastClass")
                                    }else{
                                        $chight.removeClass("itcastClass").next().addClass("itcastClass");
                                    }
                                }
                                //会走下面.
                                //获取当前正在高亮的文本.


                            /**
                             * val 方法在没有加参数的情况下，获取当前元素的值，
                             * 加了参数就是赋值
                             *
                             *
                             */
                            $("#keywords").val($(".itcastClass").text());
                        }
                });
            })
    </script>
    <style>
                .itcastClass{
                    background: red;
                }

                #keywords{
                    width: 500px;
                    font-size: 28px;

                }
                #buttonId{
                    font-size: 28px;
                }
                .message_area{
                     width: 500px;
                     border: 1px solid #ccc;
                     margin-left: -74px;
                     display: none;
                }
                .message_area li{
                    list-style: none;
                    padding: 5px;
                }
    </style>
</head>
<body>
    <div align="center">
            <input type="text" id="keywords" placeholder="修修剪剪，方得一张好脸" autofocus="autofocus"><input type="button" value="搜索" id="buttonId">
            <div class="message_area" align="left">
                    <li>中国好基友</li>
                    <li>中国好太太</li>
                    <li>中国好嫂子</li>
                    <li>中国好闺蜜</li>
                    <li>中国好老师</li>
                    <li>中国好学生</li>
                    <li>中国好声音</li>
                    <li>中国最强音</li>
                    <li>中国小旋风</li>
                    <li>中国苏世鹏</li>
            </div>
    </div>
</body>
</html>