<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <script type="text/javascript">
    /*
        模块功能主要由两个命令构成：export和import。
        export命令用于规定模块的对外接口，import命令用于输入其他模块提供的功能。
    */

    /*
    一个模块就是一个独立的文件。该文件内部的所有变量，外部无法获取。如果你希望外部能够读取模块内部的某个变量，就必须使用export关键字输出该变量。下面是一个 JS 文件，里面使用export命令输出变量。

     */
    
    // profile.js
    export var firstName = 'Michael';
    export var lastName = 'Jackson';
    export var year = 1958;

    // 上面代码是profile.js文件，保存了用户信息。
    // ES6 将其视为一个模块，里面用export命令对外部输出了三个变量。



    // profile.js    另外一种写法;
    var firstName = 'Michael';
    var lastName = 'Jackson';
    var year = 1958;

    export {firstName, lastName, year};


    // export命令除了输出变量，还可以输出函数或类（class）。
        export function multiply(x, y) {
            return x * y;
        };

    // 通常情况下，export输出的变量就是本来的名字，但是可以使用as关键字重命名。
    function v1() { ... }
    function v2() { ... }

    export {
      v1 as streamV1,
      v2 as streamV2,
      v2 as streamLatestVersion
    };

//上面代码使用as关键字，重命名了函数v1和v2的对外接口。重命名后，v2可以用不同的名字输出两次。
//需要特别注意的是，export命令规定的是对外的接口，必须与模块内部的变量建立一一对应关系。

    // 写法一
    export var m = 1;

    // 写法二
    var m = 1;
    export {m};

    // 写法三
    var n = 1;
    export {n as m};

    //同样的，function和class的输出，也必须遵守这样的写法


    //另外，export语句输出的接口，与其对应的值是动态绑定关系，即通过该接口，
    //可以取到模块内部实时的值。

    
    export var foo = 'bar';
    setTimeout(() => foo = 'baz', 500);
    // 上面代码输出变量foo，值为bar，500 毫秒之后变成baz。

    // 这一点与 CommonJS 规范完全不同。
    // CommonJS 模块输出的是值的缓存，不存在动态更新，详见下文《Module 的加载实现》一节。

    /*
    export命令可以出现在模块的任何位置，只要处于模块顶层就可以。如果处于块级作用域内，就会报错，下一节的import命令也是如此。这是因为处于条件代码块之中，就没法做静态优化了，违背了 ES6 模块的设计初衷。
    
     */ 




    </script>
</body>
</html>