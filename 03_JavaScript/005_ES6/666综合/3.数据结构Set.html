<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script type="text/javascript">
    /**
     *1. ES6 提供了新的数据结构 Set。它类似于数组，但是成员的值都是唯一的，没有重复的值。Set 本身是一个构造函数，用来生成 Set 数据结构。

     向 Set 加入值的时候，不会发生类型转换，所以5和"5"是两个不同的值。Set 内部判断两个值是否不同

     Set 函数可以接受一个数组（或者具有 iterable 接口的其他数据结构）作为参数，用来初始化。
     */
     const s = new Set([5,9]);
     console.log(s);
    // 2. Set类的基本属性;
    console.log( s.size );

    // Set 类的方法;
    // 3. Set.add(value) 添加一个数据，返回Set结构本身;
        console.log( s.add('a').add('b') );  //69ab;
    // 4. set.delete(value) 删除一个指定的数据，返回一个布尔值，表示删除时候成功;
    // console.log( s.delete('a') );
    // 5. set.has(value) //判断该值是否为Set的成员，返回一个布尔值;
    console.log( s.has('b') ); //true;

    // 5. set.clear() 清除所有数据没有返回值;
    // 
    //6. keys()     返回键名的遍历器;
        console.log(s.keys() );
    //7. values()   返回键值对的遍历器;
        console.log(s.values());
    //8. entries() 返回键值对的遍历器;
        console.log(s.entries());
    //9. forEach()  使用回调函数遍历每个成员;
    //参数为一个函数，函数中参数是值，键，set本身;
        s.forEach(function(value,key,set){  
            console.log(value+'wei777');
        })
// ***************************************************;
    // 遍历的应用
        let set = new Set(['red', 'green', 'blue']);
        let arr = [...set];  // ['red', 'green', 'blue']
        
        // 扩展运算符和 Set 结构相结合，就可以去除数组的重复成员。
        let arr = [3, 5, 2, 2, 5, 5];
        let unique = [...new Set(arr)];  // [3, 5, 2]

        // 数组的map和filter方法也可以间接用于 Set 了。
        let set = new Set([1, 2, 3]);
        set = new Set([...set].map(x => x * 2));
        // 返回Set结构：{2, 4, 6}
        let set = new Set([1, 2, 3, 4, 5]);
        set = new Set([...set].filter(x => (x % 2) == 0));
        // 返回Set结构：{2, 4}
//  Set 可以很容易地实现并集（Union）、交集（Intersect）和差集（Difference）
    let a = new Set([1, 2, 3]);
    let b = new Set([4, 3, 2]);
    // 并集
    let union = new Set([...a, ...b]);  // Set {1, 2, 3, 4}
    // 交集
    let intersect = new Set([...a].filter(x => b.has(x)));  // set {2, 3}
    // 差集
    let difference = new Set([...a].filter(x => !b.has(x))); // Set {1}
    

    


    </script>
</body>
</html>