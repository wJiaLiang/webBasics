<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>Document</title>
    <style type="text/css">
        div{border-bottom: 1px #ccc solid;padding-bottom: 10px;margin-top: 15px;}
        p{position: relative; margin-top: 10px;margin-bottom: 0px;padding-bottom: 10px;}
        p:after{
            content: "";
            width: 100%;
            position: absolute;
            left: 0px;
            bottom: 0px;
            border-top:1px solid #ccc;
            -webkit-transform: scaleY(0.5);
            transform: scaleY(0.5);
        }
    </style>
</head>
<body>

    <div id="btn">ps 边框是1px;</div>
    <div id="para">this is para 边框是1px;</div>
    <p id="san">在移动端边框是 0.5px;</p>

    <script type="text/javascript">
//DOM的事件操作（监听和触发），都定义在EventTarget接口。Element节点、document节点和window对象，都部署了这个接口。此外，XMLHttpRequest、AudioNode、AudioContext等浏览器内置对象，也部署了这个接口。
        // addEventListener：绑定事件的监听函数
        // removeEventListener：移除事件的监听函数
        // dispatchEvent：触发事件

// 1.1 addEventListener()       

// addEventListener方法接受三个参数。
// type：事件名称，大小写敏感。
// listener：监听函数。事件发生时，会调用该监听函数。
// useCapture：布尔值，表示监听函数是否在捕获阶段（capture）触发（参见后文《事件的传播》部分），默认为false（监听函数只在冒泡阶段被触发）。老式浏览器规定该参数必写，较新版本的浏览器允许该参数可选。为了保持兼容，建议总是写上该参数。


//addEventListener方法可以为当前对象的同一个事件，添加多个监听函数。这些函数按照添加顺序触发，即先添加先触发。如果为同一个事件多次添加同一个监听函数，该函数只会执行一次，多余的添加将自动被去除

// 如果希望向监听函数传递参数，可以用匿名函数包装一下监听函数。

function hello(s) {
  console.log(s );
}

var button = document.getElementById('btn');
button.addEventListener('click',function(){ hello('呵呵')} , false);

// ***************************************************
// removeEventListener()
    button.addEventListener('click', listener, false);
    button.removeEventListener('click', listener, false);
    function listener(){}
//removeEventListener方法移除的监听函数，必须与对应的addEventListener方法的参数完全一致，而且必须在同一个元素节点，否则无效。

// **************************************************
// dispatchEvent()
/*

    dispatchEvent方法在当前节点上触发指定事件，从而触发监听函数的执行。该方法返回一个布尔值，只要有一个监听函数调用了Event.preventDefault()，则返回值为false，否则为true。

    dispatchEvent方法的参数是一个Event对象的实例。
*/
    var para = document.querySelector('#para');
    // 给para 绑定了一个 click 事件;
    para.addEventListener('click', dispatchfunc, false);
    var event = new Event('click');
    //  在当前节点上触发指定的事件;
    para.dispatchEvent(event);

    function dispatchfunc(){
        console.log('disPatchEvEvent触发的方法');
    }
// 这样就相当于默认触发了一次click事件; 

    </script>
</body>
</html>