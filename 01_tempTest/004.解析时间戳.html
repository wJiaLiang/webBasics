<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <link rel="stylesheet" href="">
</head>

<body>
    <script type="text/javascript">
    // 解析十位数时间戳,转换成多少天以前显示形式;
    // 超过30天显示为年月日;
    // 1532879999 
    function analysisDate(oldDate) {

        let date = new Date() / 1000;
        let difference = date - oldDate;

        let oldDateObj = new Date(oldDate*1000);
        console.log(oldDateObj);
        let y = oldDateObj.getFullYear();
        let m = oldDateObj.getMonth()+1;
        let d = oldDateObj.getDate();

        let Minute = parseInt( difference / 60 % 60); // 分钟;
        let hours = parseInt(difference / 60 / 60 % 24); // 小时;
        let day = parseInt(difference / 60 / 60 / 24); // 天;

        console.log('天',day)
        console.log('小时',hours)
        console.log('分钟',Minute)

        if(day==0&&hours==0&&Minute!=0){
            return Minute+'分钟以前';
        }
        else if(day==0&&hours!=0){
            return hours+'小时以前'; 
        }else if(day<30){
            return day+'天以前';
        }else{
            return y+"年"+m+"月"+d+"日"
        }
    }

   alert(analysisDate(1532879999));

   let cha = 30;
   let Minutes = parseInt( cha / 60 % 60 );
   console.log(Minutes);


    </script>
</body>

</html>